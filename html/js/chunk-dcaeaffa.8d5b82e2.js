(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dcaeaffa"],{"13ac":function(t,a,i){"use strict";i.r(a);var e=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"info"},[i("div",{staticClass:"wrap"},[i("div",{staticClass:"bg-img",style:{"background-image":"url("+t.imgUrl+")"}}),i("headnav",{attrs:{title:t.info.m_szSongName}}),i("div",{staticClass:"cover"},[i("div",{staticClass:"img"},[i("img",{class:{"a-circling":t.circling,"z-pause":t.pause},attrs:{src:t.imgUrl}}),i("canvas",{ref:"canvas",staticClass:"icon",on:{click:t.playClick,contextmenu:function(t){t.preventDefault()}}})]),i("div",{staticClass:"controls"},[0==t.pause?i("div",{staticClass:"time"},[i("span",[t._v(t._s(t.currTime))]),i("span",[t._v("/")]),i("span",[t._v(t._s(t.duraTime))])]):i("div",{staticClass:"btn"},[i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"one"},domProps:{checked:t._q(t.radio,"one")},on:{change:[function(a){t.radio="one"},t.playChange]}}),t._v("试听")]),i("label",[i("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"two"},domProps:{checked:t._q(t.radio,"two")},on:{change:[function(a){t.radio="two"},t.playChange]}}),t._v("完整")])])]),i("div",{staticClass:"play"},[i("audio",{ref:"audio",attrs:{src:t.audioUrl}})])]),i("div",{staticClass:"table"},[i("table",{attrs:{border:"1"}},[i("tr",[i("td",[t._v("歌曲名")]),i("td",[t._v(t._s(t.info.m_szSongName))])]),i("tr",[i("td",[t._v("作者")]),i("td",[t._v(t._s(t.info.m_szArtist))])]),i("tr",[i("td",[t._v("BPM")]),i("td",[t._v(t._s(t.info.m_szBPM))])]),i("tr",[i("td",[t._v("时间")]),i("td",[t._v(t._s(t.info.time))])]),i("tr",[i("td",[t._v("ID")]),i("td",[t._v(t._s(t.info.m_ushSongID))])])]),i("table",{attrs:{border:"1"}},[t._m(0),i("tr",[i("td",[t._v("简单")]),i("td",[t._v(t._s(t.info.m_ush4KeyEasy))]),i("td",[t._v(t._s(t.info.m_ush5KeyEasy))]),i("td",[t._v(t._s(t.info.m_ush6KeyEasy))])]),i("tr",[i("td",[t._v("普通")]),i("td",[t._v(t._s(t.info.m_ush4KeyNormal))]),i("td",[t._v(t._s(t.info.m_ush5KeyNormal))]),i("td",[t._v(t._s(t.info.m_ush6KeyNormal))])]),i("tr",[i("td",[t._v("困难")]),i("td",{on:{click:function(a){return t.preview("4k_hd")}}},[i("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush4KeyHard))])]),i("td",{on:{click:function(a){return t.preview("5k_hd")}}},[i("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush5KeyHard))])]),i("td",{on:{click:function(a){return t.preview("6k_hd")}}},[i("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush6KeyHard))])])])]),i("table",{attrs:{border:"1"}},[t._m(1),i("tr",[i("td",[t._v("简单")]),i("td",[t._v(t._s(t.note[0]))]),i("td",[t._v(t._s(t.note[3]))]),i("td",[t._v(t._s(t.note[6]))])]),i("tr",[i("td",[t._v("普通")]),i("td",[t._v(t._s(t.note[1]))]),i("td",[t._v(t._s(t.note[4]))]),i("td",[t._v(t._s(t.note[7]))])]),i("tr",[i("td",[t._v("困难")]),i("td",[t._v(t._s(t.note[2]))]),i("td",[t._v(t._s(t.note[5]))]),i("td",[t._v(t._s(t.note[8]))])])]),i("table",{attrs:{border:"1"}},[t._m(2),i("tr",[i("td",[t._v("简单")]),i("td",[t._v(t._s(t.score[0]))]),i("td",[t._v(t._s(t.score[3]))]),i("td",[t._v(t._s(t.score[6]))])]),i("tr",[i("td",[t._v("普通")]),i("td",[t._v(t._s(t.score[1]))]),i("td",[t._v(t._s(t.score[4]))]),i("td",[t._v(t._s(t.score[7]))])]),i("tr",[i("td",[t._v("困难")]),i("td",[t._v(t._s(t.score[2]))]),i("td",[t._v(t._s(t.score[5]))]),i("td",[t._v(t._s(t.score[8]))])])])])],1)])},s=[function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("td",[t._v("等级")]),i("td",[t._v("4KEY")]),i("td",[t._v("5KEY")]),i("td",[t._v("6KEY")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("td",[t._v("键总数")]),i("td",[t._v("4KEY")]),i("td",[t._v("5KEY")]),i("td",[t._v("6KEY")])])},function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("tr",[i("td",[t._v("满分")]),i("td",[t._v("4KEY")]),i("td",[t._v("5KEY")]),i("td",[t._v("6KEY")])])}],r=(i("28a5"),i("6c7b"),i("c24d")),n={data:function(){return{id:"",info:{},note:[],score:[],imgUrl:"",audioUrl:"",circling:!0,pause:!0,currTime:"0:00",duraTime:"0:00",playUrl:{one:"",two:""},radio:"one"}},methods:{preview:function(t){this.$router.push({path:"/preview",query:{id:this.id,type:t}})},drawPlay:function(){var t=this.$refs.canvas,a=t.getContext("2d"),i=50,e=Math.sqrt(3)*i/2,s=0,r=2*-e/3,n=50;a.beginPath(),a.arc(0,0,n,0,2*Math.PI),a.lineWidth=10,a.strokeStyle="#ffffff",a.fillStyle="rgba(0,0,0,0.5)",a.stroke(),a.fill(),a.beginPath(),a.moveTo(s,r),a.lineTo(s-i/2,r+e),a.lineTo(s+i/2,r+e),a.closePath(),a.lineJoin="round",a.fillStyle="#ffffff",a.stroke(),a.fill()},initPlay:function(){var t=this,a=this.$refs.canvas;a.width=400,a.height=400;var i=a.getContext("2d");i.translate(a.width/2,a.height/2),i.rotate(-30*Math.PI/180);var e=this.$refs.audio;e.addEventListener("timeupdate",(function(){t.currTime=r["b"].formatTime(e.currentTime)})),e.addEventListener("play",(function(){t.pause=!1,i.clearRect(-60,-60,120,120)})),e.addEventListener("pause",(function(){t.pause=!0,t.drawPlay()})),e.addEventListener("durationchange",(function(){t.duraTime=r["b"].formatTime(e.duration)}))},playClick:function(t){var a=t.offsetX,i=t.offsetY,e=50,s=50,r=100,n=100;if(a>=e&&a<=e+r&&i>=s&&i<=s+n){var o=this.$refs.audio;o.paused?o.play():o.pause()}},playChange:function(){this.audioUrl=this.playUrl[this.radio]}},mounted:function(){this.initPlay(),this.drawPlay()},activated:function(){setTimeout((function(){window.scrollTo(0,0)}),500),this.id=this.$route.query.id;var t=r["a"].song;t.m_ushSongID==this.id&&(this.info=t),this.info.m_szNoteNumber&&(this.note=this.info.m_szNoteNumber.split(",")),this.score=this.note.map((function(t){var a="0";return t>0&&(a=600*t-22740),a}));var a=this.info.m_szPath;switch(this.imgUrl="".concat(r["a"].resUrl).concat(a,"/").concat(a,"_thumb.jpg"),this.playUrl.one="".concat(r["a"].resUrl).concat(a,"/").concat(a,"_prev.mp3"),this.playUrl.two="".concat(r["a"].resUrl).concat(a,"/").concat(a,".mp3"),this.audioUrl=this.playUrl[this.radio],this.info.m_ushSongID){case"575":this.imgUrl="song/sthenno_ipad.jpg",this.audioUrl="song/sthenno.mp3";break;case"576":this.imgUrl="song/asturias_ipad.jpg",this.audioUrl="song/asturias.mp3";break;case"577":this.imgUrl="song/chaozairflow_ipad.jpg",this.audioUrl="song/chaozairflow.mp3";break}}},o=n,d=(i("1e3a"),i("2877")),c=Object(d["a"])(o,e,s,!1,null,null,null);a["default"]=c.exports},"1e3a":function(t,a,i){"use strict";i("2957")},2957:function(t,a,i){},"6c7b":function(t,a,i){var e=i("5ca1");e(e.P,"Array",{fill:i("36bd")}),i("9c6c")("fill")}}]);