(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ea3f842"],{"13ac":function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"info"},[e("headnav",{attrs:{title:t.info.m_szSongName}}),e("div",{staticClass:"cover"},[e("div",{staticClass:"img"},[e("img",{class:{"a-circling":t.circling,"z-pause":t.pause},attrs:{src:t.imgUrl}}),e("canvas",{ref:"canvas",staticClass:"icon",on:{click:t.playClick,contextmenu:function(t){t.preventDefault()}}})]),e("div",{staticClass:"controls"},[0==t.pause?e("div",{staticClass:"time"},[e("span",[t._v(t._s(t.currTime))]),e("span",[t._v("/")]),e("span",[t._v(t._s(t.duraTime))])]):e("div",{staticClass:"btn"},[e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"one"},domProps:{checked:t._q(t.radio,"one")},on:{change:[function(i){t.radio="one"},t.playChange]}}),t._v("试听")]),e("label",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"two"},domProps:{checked:t._q(t.radio,"two")},on:{change:[function(i){t.radio="two"},t.playChange]}}),t._v("完整")])])]),e("div",{staticClass:"play"},[e("audio",{ref:"audio",attrs:{src:t.audioUrl}})])]),e("div",{staticClass:"table"},[e("table",{attrs:{border:"1"}},[e("tr",[e("td",[t._v("歌曲名")]),e("td",[t._v(t._s(t.info.m_szSongName))])]),e("tr",[e("td",[t._v("作者")]),e("td",[t._v(t._s(t.info.m_szArtist))])]),e("tr",[e("td",[t._v("BPM")]),e("td",[t._v(t._s(t.info.m_szBPM))])]),e("tr",[e("td",[t._v("时间")]),e("td",[t._v(t._s(t.info.time))])]),e("tr",[e("td",[t._v("ID")]),e("td",[t._v(t._s(t.info.m_ushSongID))])])]),e("table",{attrs:{border:"1"}},[t._m(0),e("tr",[e("td",[t._v("简单")]),e("td",[t._v(t._s(t.info.m_ush4KeyEasy))]),e("td",[t._v(t._s(t.info.m_ush5KeyEasy))]),e("td",[t._v(t._s(t.info.m_ush6KeyEasy))])]),e("tr",[e("td",[t._v("普通")]),e("td",[t._v(t._s(t.info.m_ush4KeyNormal))]),e("td",[t._v(t._s(t.info.m_ush5KeyNormal))]),e("td",[t._v(t._s(t.info.m_ush6KeyNormal))])]),e("tr",[e("td",[t._v("困难")]),e("td",{on:{click:function(i){return t.preview("4KHD")}}},[e("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush4KeyHard))])]),e("td",{on:{click:function(i){return t.preview("5KHD")}}},[e("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush5KeyHard))])]),e("td",{on:{click:function(i){return t.preview("6KHD")}}},[e("a",{attrs:{href:"javascript:void(0);"}},[t._v(t._s(t.info.m_ush6KeyHard))])])])]),e("table",{attrs:{border:"1"}},[t._m(1),e("tr",[e("td",[t._v("简单")]),e("td",[t._v(t._s(t.note[0]))]),e("td",[t._v(t._s(t.note[3]))]),e("td",[t._v(t._s(t.note[6]))])]),e("tr",[e("td",[t._v("普通")]),e("td",[t._v(t._s(t.note[1]))]),e("td",[t._v(t._s(t.note[4]))]),e("td",[t._v(t._s(t.note[7]))])]),e("tr",[e("td",[t._v("困难")]),e("td",[t._v(t._s(t.note[2]))]),e("td",[t._v(t._s(t.note[5]))]),e("td",[t._v(t._s(t.note[8]))])])]),e("table",{attrs:{border:"1"}},[t._m(2),e("tr",[e("td",[t._v("简单")]),e("td",[t._v(t._s(t.score[0]))]),e("td",[t._v(t._s(t.score[3]))]),e("td",[t._v(t._s(t.score[6]))])]),e("tr",[e("td",[t._v("普通")]),e("td",[t._v(t._s(t.score[1]))]),e("td",[t._v(t._s(t.score[4]))]),e("td",[t._v(t._s(t.score[7]))])]),e("tr",[e("td",[t._v("困难")]),e("td",[t._v(t._s(t.score[2]))]),e("td",[t._v(t._s(t.score[5]))]),e("td",[t._v(t._s(t.score[8]))])])])])],1)},s=[function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("tr",[e("td",[t._v("等级")]),e("td",[t._v("4KEY")]),e("td",[t._v("5KEY")]),e("td",[t._v("6KEY")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("tr",[e("td",[t._v("键总数")]),e("td",[t._v("4KEY")]),e("td",[t._v("5KEY")]),e("td",[t._v("6KEY")])])},function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("tr",[e("td",[t._v("满分")]),e("td",[t._v("4KEY")]),e("td",[t._v("5KEY")]),e("td",[t._v("6KEY")])])}],r=(e("28a5"),e("6c7b"),e("c24d")),n={data:function(){return{id:"",info:{},note:[],score:[],imgUrl:"",audioUrl:"",circling:!0,pause:!0,currTime:"0:00",duraTime:"0:00",playUrl:{one:"",two:""},radio:"one"}},methods:{preview:function(t){this.$router.push({path:"/preview",query:{id:this.id,type:t}})},drawPlay:function(){var t=this.$refs.canvas,i=t.getContext("2d"),e=50,a=Math.sqrt(3)*e/2,s=0,r=2*-a/3,n=50;i.beginPath(),i.arc(0,0,n,0,2*Math.PI),i.lineWidth=10,i.strokeStyle="#ffffff",i.fillStyle="rgba(0,0,0,0.5)",i.stroke(),i.fill(),i.beginPath(),i.moveTo(s,r),i.lineTo(s-e/2,r+a),i.lineTo(s+e/2,r+a),i.closePath(),i.lineJoin="round",i.fillStyle="#ffffff",i.stroke(),i.fill()},initPlay:function(){var t=this,i=this.$refs.canvas;i.width=400,i.height=400;var e=i.getContext("2d");e.translate(i.width/2,i.height/2),e.rotate(-30*Math.PI/180);var a=this.$refs.audio;a.addEventListener("timeupdate",(function(){t.currTime=r["b"].formatTime(a.currentTime)})),a.addEventListener("play",(function(){t.pause=!1,e.clearRect(-60,-60,120,120)})),a.addEventListener("pause",(function(){t.pause=!0,t.drawPlay()})),a.addEventListener("durationchange",(function(){t.duraTime=r["b"].formatTime(a.duration)}))},playClick:function(t){var i=t.offsetX,e=t.offsetY,a=50,s=50,r=100,n=100;if(i>=a&&i<=a+r&&e>=s&&e<=s+n){var o=this.$refs.audio;o.paused?o.play():o.pause()}},playChange:function(){this.audioUrl=this.playUrl[this.radio]}},mounted:function(){this.initPlay(),this.drawPlay()},activated:function(){setTimeout((function(){window.scrollTo(0,0)}),500),this.id=this.$route.query.id;var t=this.$global.song;t.m_ushSongID==this.id&&(this.info=t),this.info.m_szNoteNumber&&(this.note=this.info.m_szNoteNumber.split(",")),this.score=this.note.map((function(t){var i="0";return t>0&&(i=600*t-22740),i}));var i=this.info.m_szPath;switch(this.imgUrl="".concat(r["a"].resUrl).concat(i,"/").concat(i,"_thumb.jpg"),this.playUrl.one="".concat(r["a"].resUrl).concat(i,"/").concat(i,"_prev.mp3"),this.playUrl.two="".concat(r["a"].resUrl).concat(i,"/").concat(i,".mp3"),this.audioUrl=this.playUrl[this.radio],this.info.m_ushSongID){case"575":this.imgUrl="song/sthenno_ipad.jpg",this.audioUrl="song/sthenno.mp3";break;case"576":this.imgUrl="song/asturias_ipad.jpg",this.audioUrl="song/asturias.mp3";break;case"577":this.imgUrl="song/chaozairflow_ipad.jpg",this.audioUrl="song/chaozairflow.mp3";break}}},o=n,d=(e("41fa"),e("2877")),c=Object(d["a"])(o,a,s,!1,null,null,null);i["default"]=c.exports},"36bd":function(t,i,e){"use strict";var a=e("4bf8"),s=e("77f1"),r=e("9def");t.exports=function(t){var i=a(this),e=r(i.length),n=arguments.length,o=s(n>1?arguments[1]:void 0,e),d=n>2?arguments[2]:void 0,c=void 0===d?e:s(d,e);while(c>o)i[o++]=t;return i}},"41fa":function(t,i,e){"use strict";e("ed83")},"6c7b":function(t,i,e){var a=e("5ca1");a(a.P,"Array",{fill:e("36bd")}),e("9c6c")("fill")},ed83:function(t,i,e){}}]);