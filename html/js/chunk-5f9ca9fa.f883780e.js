(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5f9ca9fa"],{"13ac":function(t,a,s){"use strict";s.r(a);var i=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"info"},[s("headnav",{attrs:{title:t.info.m_szSongName}}),s("div",{staticClass:"cover"},[s("div",{staticClass:"img"},[s("img",{class:{"a-circling":t.circling,"z-pause":t.pause},attrs:{src:t.imgUrl}}),s("canvas",{ref:"canvas",staticClass:"icon",on:{click:t.playClick}})]),s("div",{staticClass:"controls"},[0==t.pause?s("div",{staticClass:"time"},[s("span",[t._v(t._s(t.currTime))]),s("span",[t._v("/")]),s("span",[t._v(t._s(t.duraTime))])]):s("div",{staticClass:"btn"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"one"},domProps:{checked:t._q(t.radio,"one")},on:{change:[function(a){t.radio="one"},t.playChange]}}),t._v("试听")]),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.radio,expression:"radio"}],attrs:{type:"radio",name:"radio",value:"two"},domProps:{checked:t._q(t.radio,"two")},on:{change:[function(a){t.radio="two"},t.playChange]}}),t._v("完整")])])]),s("div",{staticClass:"play"},[s("audio",{ref:"audio",attrs:{src:t.audioUrl}})])]),s("div",{staticClass:"table"},[s("table",{attrs:{border:"1"}},[s("tr",[s("td",[t._v("歌曲名")]),s("td",[t._v(t._s(t.info.m_szSongName))])]),s("tr",[s("td",[t._v("作者")]),s("td",[t._v(t._s(t.info.m_szArtist))])]),s("tr",[s("td",[t._v("Path")]),s("td",[t._v(t._s(t.info.m_szPath))])]),s("tr",[s("td",[t._v("BPM")]),s("td",[t._v(t._s(t.info.m_szBPM))])]),s("tr",[s("td",[t._v("时间")]),s("td",[t._v(t._s(t.info.time))])])]),s("table",{attrs:{border:"1"}},[t._m(0),s("tr",[s("td",[t._v("简单")]),s("td",[t._v(t._s(t.info.m_ush4KeyEasy))]),s("td",[t._v(t._s(t.info.m_ush5KeyEasy))]),s("td",[t._v(t._s(t.info.m_ush6KeyEasy))])]),s("tr",[s("td",[t._v("普通")]),s("td",[t._v(t._s(t.info.m_ush4KeyNormal))]),s("td",[t._v(t._s(t.info.m_ush5KeyNormal))]),s("td",[t._v(t._s(t.info.m_ush6KeyNormal))])]),s("tr",[s("td",[t._v("困难")]),s("td",[t._v(t._s(t.info.m_ush4KeyHard))]),s("td",[t._v(t._s(t.info.m_ush5KeyHard))]),s("td",[t._v(t._s(t.info.m_ush6KeyHard))])])]),s("table",{attrs:{border:"1"}},[t._m(1),s("tr",[s("td",[t._v("简单")]),s("td",[t._v(t._s(t.note[0]))]),s("td",[t._v(t._s(t.note[3]))]),s("td",[t._v(t._s(t.note[6]))])]),s("tr",[s("td",[t._v("普通")]),s("td",[t._v(t._s(t.note[1]))]),s("td",[t._v(t._s(t.note[4]))]),s("td",[t._v(t._s(t.note[7]))])]),s("tr",[s("td",[t._v("困难")]),s("td",[t._v(t._s(t.note[2]))]),s("td",[t._v(t._s(t.note[5]))]),s("td",[t._v(t._s(t.note[8]))])])]),s("table",{attrs:{border:"1"}},[t._m(2),s("tr",[s("td",[t._v("简单")]),s("td",[t._v(t._s(t.score[0]))]),s("td",[t._v(t._s(t.score[3]))]),s("td",[t._v(t._s(t.score[6]))])]),s("tr",[s("td",[t._v("普通")]),s("td",[t._v(t._s(t.score[1]))]),s("td",[t._v(t._s(t.score[4]))]),s("td",[t._v(t._s(t.score[7]))])]),s("tr",[s("td",[t._v("困难")]),s("td",[t._v(t._s(t.score[2]))]),s("td",[t._v(t._s(t.score[5]))]),s("td",[t._v(t._s(t.score[8]))])])])])],1)},e=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("td",[t._v("等级")]),s("td",[t._v("4KEY")]),s("td",[t._v("5KEY")]),s("td",[t._v("6KEY")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("td",[t._v("键总数")]),s("td",[t._v("4KEY")]),s("td",[t._v("5KEY")]),s("td",[t._v("6KEY")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("td",[t._v("满分")]),s("td",[t._v("4KEY")]),s("td",[t._v("5KEY")]),s("td",[t._v("6KEY")])])}],r=(s("28a5"),s("6c7b"),s("c24d")),n={data:function(){return{id:"",info:{},note:[],score:[],imgUrl:"",audioUrl:"",circling:!0,pause:!0,currTime:"0:00",duraTime:"0:00",playUrl:{one:"",two:""},radio:"one"}},methods:{preview:function(){this.$router.push("/preview")},drawPlay:function(){var t=this.$refs.canvas,a=t.getContext("2d"),s=50,i=Math.sqrt(3)*s/2,e=0,r=2*-i/3,n=50;a.beginPath(),a.arc(0,0,n,0,2*Math.PI),a.lineWidth=10,a.strokeStyle="#ffffff",a.fillStyle="rgba(0,0,0,0.5)",a.stroke(),a.fill(),a.beginPath(),a.moveTo(e,r),a.lineTo(e-s/2,r+i),a.lineTo(e+s/2,r+i),a.closePath(),a.lineJoin="round",a.fillStyle="#ffffff",a.stroke(),a.fill()},initPlay:function(){var t=this,a=this.$refs.canvas;a.width=400,a.height=400;var s=a.getContext("2d");s.translate(a.width/2,a.height/2),s.rotate(-30*Math.PI/180);var i=this.$refs.audio;i.addEventListener("timeupdate",(function(){t.currTime=t.formatTime(i.currentTime)})),i.addEventListener("play",(function(){t.pause=!1,s.clearRect(-60,-60,120,120)})),i.addEventListener("pause",(function(){t.pause=!0,t.drawPlay()})),i.addEventListener("durationchange",(function(){t.duraTime=t.formatTime(i.duration)}))},formatTime:function(t){var a=parseInt(t/60),s=parseInt(t%60);return a+":"+(s<10?"0"+s:s)},playClick:function(t){var a=t.offsetX,s=t.offsetY,i=50,e=50,r=100,n=100;if(a>=i&&a<=i+r&&s>=e&&s<=e+n){var o=this.$refs.audio;o.paused?o.play():o.pause()}},playChange:function(){this.audioUrl=this.playUrl[this.radio]}},mounted:function(){this.initPlay(),this.drawPlay()},activated:function(){setTimeout((function(){window.scrollTo(0,0)}),500),this.id=this.$route.query.id;var t=this.$global.song;t.m_ushSongID==this.id&&(this.info=t),this.note=this.info.m_szNoteNumber.split(","),this.score=this.note.map((function(t){var a="0";return t>0&&(a=600*t-22740),a}));var a=this.info.m_szPath;switch(this.imgUrl="".concat(r["a"].resUrl).concat(a,"/").concat(a,"_thumb.jpg"),this.playUrl.one="".concat(r["a"].resUrl).concat(a,"/").concat(a,"_prev.mp3"),this.playUrl.two="".concat(r["a"].resUrl).concat(a,"/").concat(a,".mp3"),this.audioUrl=this.playUrl[this.radio],this.info.m_ushSongID){case"575":this.imgUrl="song/sthenno_ipad.jpg",this.audioUrl="song/sthenno.mp3";break;case"576":this.imgUrl="song/asturias_ipad.jpg",this.audioUrl="song/asturias.mp3";break;case"577":this.imgUrl="song/chaozairflow_ipad.jpg",this.audioUrl="song/chaozairflow.mp3";break}}},o=n,d=(s("58aa"),s("2877")),c=Object(d["a"])(o,i,e,!1,null,null,null);a["default"]=c.exports},"36bd":function(t,a,s){"use strict";var i=s("4bf8"),e=s("77f1"),r=s("9def");t.exports=function(t){var a=i(this),s=r(a.length),n=arguments.length,o=e(n>1?arguments[1]:void 0,s),d=n>2?arguments[2]:void 0,c=void 0===d?s:e(d,s);while(c>o)a[o++]=t;return a}},"58aa":function(t,a,s){"use strict";s("b60c")},"6c7b":function(t,a,s){var i=s("5ca1");i(i.P,"Array",{fill:s("36bd")}),s("9c6c")("fill")},b60c:function(t,a,s){}}]);